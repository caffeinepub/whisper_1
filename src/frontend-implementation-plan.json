{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "PostComposer: store selected photo file in component state (no upload)",
  "requirements": [
    {
      "id": "REQ-2",
      "summary": "Add minimal React state to PostComposer to track the currently selected optional photo file and clear it after successful post submission, without adding any upload/storage behavior.",
      "acceptanceCriteria": [
        "`PostComposer` defines a new `useState` value to hold the selected photo file (e.g., `File | null`).",
        "The `<Input id=\"photo\" type=\"file\" ...>` has an `onChange` handler that updates the new state from `e.target.files` (set to `null` when no file is selected).",
        "On successful post submission (after `createPost.mutateAsync` resolves), the selected photo state is cleared back to `null` (alongside the existing content/instance-name resets).",
        "No backend calls, upload logic, or changes to the `useCreatePost` payload are added in this step.",
        "Changes are limited to this single file: `frontend/src/components/feed/PostComposer.tsx`."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/feed/PostComposer.tsx",
          "operation": "modify",
          "description": "Introduce a `useState<File | null>` to hold the selected photo for the existing \"Photo (optional)\" file input; add an `onChange` handler that reads `e.target.files?.[0] ?? null` and stores it; after `createPost.mutateAsync` resolves successfully, clear the photo state back to `null` alongside existing resets. Do not add any upload logic or include the file in the create-post mutation payload; keep all changes within this file only."
        }
      ]
    }
  ]
}
{
  "kind": "build_request",
  "title": "Micro step 2: Store selected photo file in PostComposer state (no upload)",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-2",
      "text": "In `frontend/src/components/feed/PostComposer.tsx`, add minimal React state handling for the existing \"Photo (optional)\" file input so the component stores the currently selected file (or null) when the user chooses an image, without wiring any upload/storage behavior.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Run step 2"
        ]
      },
      "acceptanceCriteria": [
        "`PostComposer` defines a new `useState` value to hold the selected photo file (e.g., `File | null`).",
        "The `<Input id=\"photo\" type=\"file\" ...>` has an `onChange` handler that updates the new state from `e.target.files` (set to `null` when no file is selected).",
        "On successful post submission (after `createPost.mutateAsync` resolves), the selected photo state is cleared back to `null` (alongside the existing content/instance-name resets).",
        "No backend calls, upload logic, or changes to the `useCreatePost` payload are added in this step.",
        "Changes are limited to this single file: `frontend/src/components/feed/PostComposer.tsx`."
      ]
    }
  ],
  "constraints": [
    "Do not edit any frontend files under `frontend/src/components/ui` (read-only shadcn components).",
    "Keep the change atomic: minimal state only; do not implement upload/storage or include the photo in the create-post mutation in this step."
  ],
  "nonGoals": [
    "Implementing photo upload to the Internet Computer or any blob storage.",
    "Persisting the photo reference in backend types or post records (planned for a later micro step).",
    "Adding image previews, validation, compression, or resizing."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}